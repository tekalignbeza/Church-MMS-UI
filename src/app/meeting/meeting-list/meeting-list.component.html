<div class="church-meeting-page">
  <div class="church-grid church-grid-cols-1">
    <!-- Search Section -->
    <div class="church-section">
      <div class="church-section-header">
        <h2 class="church-section-title">Search Meeting</h2>
      </div>
      <div class="church-section-content">
        <form class="church-form">
          <div class="church-search-grid">
            <div class="church-form-group">
              <mat-form-field appearance="outline">
                <input matInput placeholder="Meeting Title" [(ngModel)]="searchCriteria.title" name="title">
              </mat-form-field>
            </div>
            <div class="church-form-group">
              <mat-form-field appearance="outline">
                <input matInput [matDatepicker]="datePicker" placeholder="Date" [(ngModel)]="searchCriteria.date" name="date">
                <mat-datepicker-toggle matSuffix [for]="datePicker"></mat-datepicker-toggle>
                <mat-datepicker #datePicker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="church-form-actions">
            <button class="church-btn church-btn-primary" type="button" (click)="searchMeetings()">Search</button>
            <button class="church-btn church-btn-outline" type="button" (click)="resetSearch()">Reset</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Results Section -->
    <div class="church-section">
      <div class="church-section-content">
        <!-- Loading State -->
        <div *ngIf="isLoading" class="church-loading">
          <mat-spinner [diameter]="30"></mat-spinner>
          <p>Searching meetings...</p>
        </div>

        <!-- Error State -->
        <div *ngIf="error" class="church-error">
          <mat-icon color="warn">error</mat-icon>
          <p>{{ error }}</p>
          <button class="church-btn church-btn-primary" (click)="loadAllMeetings()">Retry</button>
        </div>

        <!-- Empty State -->
        <div *ngIf="!isLoading && !error && searchResults.length === 0" class="church-empty">
          <mat-icon class="church-empty-icon">event</mat-icon>
          <p>No meetings found</p>
          <button class="church-btn church-btn-primary" (click)="addNewMeeting()">Add New Meeting</button>
        </div>

        <!-- Meeting Data Table -->
        <app-meeting-data-table 
          *ngIf="!isLoading && !error && searchResults.length > 0"
          [dataSource]="searchResults">
        </app-meeting-data-table>
      </div>
    </div>
  </div>
</div>

